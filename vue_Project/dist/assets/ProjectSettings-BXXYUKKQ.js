import{_ as y,u as C,s as k,e as u,z as d,a as m,b as t,n as v,l as c,t as R,p,v as f,A as D,m as S,o as b}from"./index-Dx0rEtDk.js";const E={key:0,class:"p-4"},N={class:"card shadow-sm p-4 mb-4"},_={class:"d-flex justify-content-between align-items-center mb-3"},V={class:"mb-3"},B=["disabled"],T={class:"mb-3"},z=["disabled"],U={key:1,class:"alert alert-warning m-4"},$={__name:"ProjectSettings",setup(A){const g=S(),h=D(),r=C(),{projects:j}=k(r),s=u(null);d(()=>{s.value=j.value.find(l=>l.id===g.params.id)||null});const a=u(!1),i=u(""),n=u(0);d(()=>{s.value&&(i.value=s.value.name||"",n.value=s.value.phases?.length||0)});function x(){if(!a.value){a.value=!0;return}s.value&&(s.value.name=i.value,P(),s.value.phaseCount=s.value.phases.length,a.value=!1)}function P(){if(!s.value)return;const l=s.value.phases?.length||0,e=n.value;if(e>l)for(let o=l+1;o<=e;o++)s.value.phases.push({index:o,tasks:[],ambiRatingsLeft:[],ambiRatingsRight:[]});else e<l&&(confirm(`Remove ${l-e} phase(s)?`)?s.value.phases.splice(e):n.value=l);s.value.phaseCount=s.value.phases.length}function w(){!s.value||!confirm(`Delete project "${s.value.name}" permanently?`)||(r.projects=r.projects.filter(e=>e.id!==s.value.id),h.push({name:"dashboard"}))}return(l,e)=>s.value?(b(),m("div",E,[e[10]||(e[10]=t("h1",{class:"h4 mb-3"},"Project Settings",-1)),e[11]||(e[11]=t("p",{class:"text-muted mb-4"}," Here you can update project details, adjust the number of phases, or delete the entire project. ",-1)),t("div",N,[t("div",_,[e[2]||(e[2]=t("h5",{class:"mb-0 fw-semibold"},"Project Configuration",-1)),t("button",{class:v(["btn btn-sm",a.value?"btn-success":"btn-outline-secondary"]),onClick:x},[t("i",{class:v(a.value?"bi bi-check-lg me-1":"bi bi-pencil me-1")},null,2),c(" "+R(a.value?"Save":"Edit"),1)],2)]),t("div",V,[e[3]||(e[3]=t("label",{class:"form-label fw-semibold"},"Project Name",-1)),p(t("input",{"onUpdate:modelValue":e[0]||(e[0]=o=>i.value=o),type:"text",class:"form-control",disabled:!a.value},null,8,B),[[f,i.value]])]),t("div",T,[e[4]||(e[4]=t("label",{class:"form-label fw-semibold"},"Number of Phases",-1)),p(t("input",{"onUpdate:modelValue":e[1]||(e[1]=o=>n.value=o),type:"number",min:"1",class:"form-control",disabled:!a.value},null,8,z),[[f,n.value,void 0,{number:!0}]]),e[5]||(e[5]=t("small",{class:"text-muted"}," Changing this will add or remove phases. ",-1))]),e[9]||(e[9]=t("hr",null,null,-1)),t("div",{class:"mt-4"},[e[7]||(e[7]=t("label",{class:"form-label fw-semibold text-danger"},"Danger Zone",-1)),e[8]||(e[8]=t("p",{class:"small text-muted"}," Deleting this project will remove all its data permanently. ",-1)),t("button",{class:"btn btn-outline-danger",onClick:w},[...e[6]||(e[6]=[t("i",{class:"bi bi-trash me-1"},null,-1),c(" Delete Project ",-1)])])])])])):(b(),m("div",U," Project not found. "))}},I=y($,[["__scopeId","data-v-fc86fd12"]]);export{I as default};
